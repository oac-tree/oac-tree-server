<?xml version="1.0" encoding="UTF-8"?>
<Procedure>
  <Plugin>libsequencer-pvxs.so</Plugin>
  <Sequence>
    <UserChoice>
      <RPCClient name="Get number of jobs" service="test-auto" requestVar="n_jobs_req" outputVar="out" timeout="3.0"/>
      <RPCClient name="Get server prefix" service="test-auto" requestVar="prefix_req" outputVar="out" timeout="3.0"/>
      <RPCClient name="Start job 0" service="test-auto" requestVar="start_job0_req" outputVar="out" timeout="3.0"/>
      <RPCClient name="Halt job 0" service="test-auto" requestVar="halt_job0_req" outputVar="out" timeout="3.0"/>
    </UserChoice>
    <Output fromVar="out"/>
  </Sequence>
  <Workspace>
    <Local name="n_jobs_req" type='{"type":"struct","attributes":[{"query":{"type":"struct","attributes":[{"function":{"type":"string"}}]}}]}' value='{"query":{"function":"GetNumberOfJobs"}}'/>
    <Local name="prefix_req" type='{"type":"struct","attributes":[{"query":{"type":"struct","attributes":[{"function":{"type":"string"}}]}}]}' value='{"query":{"function":"GetServerPrefix"}}'/>
    <Local name="start_job0_req" type='{"type":"struct","attributes":[{"query":{"type":"struct","attributes":[{"function":{"type":"string"}},{"job_index":{"type":"uint64"}},{"command":{"type":"uint32"}}]}}]}' value='{"query":{"function":"SendJobCommand","job_index":0,"command":0}}'/>
    <Local name="halt_job0_req" type='{"type":"struct","attributes":[{"query":{"type":"struct","attributes":[{"function":{"type":"string"}},{"job_index":{"type":"uint64"}},{"command":{"type":"uint32"}}]}}]}' value='{"query":{"function":"SendJobCommand","job_index":0,"command":4}}'/>
    <PvAccessClient name="remote_var" channel="test-auto:PROC-0:VAR-0"/>
    <PvAccessClient name="remote_var-direct" channel="TEST:SERVER-COUNTER"/>
    <Local dynamicType="true" name="out"/>
  </Workspace>
</Procedure>
